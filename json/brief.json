{
    "name": "UI",
    "stages": [
     {
      "name": "purge",
      "nodes": [
       {
        "id": -1,
        "controllers": [],
        "triggers": [
         {
          "kind": "piston_position_trigger",
          "position_reference_id": 0,
          "operator": ">=",
          "value": 60,
          "next_node_id": 5,
          "source": "Piston Position Raw"
         },
         {
          "kind": "piston_position_trigger",
          "position_reference_id": 0,
          "operator": "<",
          "value": 60,
          "next_node_id": 2,
          "source": "Piston Position Raw"
         },
         {
          "kind": "button_trigger",
          "source": "Encoder Button",
          "gesture": "Single Tap",
          "next_node_id": 5
         }
        ]
       }
      ]
     },
     {
      "name": "heating",
      "nodes": [
       {
        "id": 7,
        "controllers": [
         {
          "kind": "temperature_controller",
          "algorithm": "Cylinder Temperature PID v1.0",
          "curve": {
           "id": 0,
           "interpolation_kind": "linear_interpolation",
           "points": [
            [
             0,
             180
            ]
           ],
           "time_reference_id": 2
          }
         },
         {
          "kind": "position_reference",
          "id": 5
         }
        ],
        "triggers": [
         {
          "kind": "temperature_value_trigger",
          "source": "Tube Temperature",
          "operator": ">=",
          "value": 89,
          "next_node_id": 8
         },
         {
          "kind": "timer_trigger",
          "timer_reference_id": 2,
          "operator": ">=",
          "value": 900,
          "next_node_id": -2
         },
         {
          "kind": "button_trigger",
          "source": "Encoder Button",
          "gesture": "Single Tap",
          "next_node_id": 8
         }
        ]
       }
      ]
     },
     {
      "name": "heating",
      "nodes": [
       {
        "id": 21,
        "controllers": [
         {
          "kind": "move_piston_controller",
          "algorithm": "Piston Ease-In",
          "direction": "DOWN",
          "speed": 5
         },
         {
          "kind": "time_reference",
          "id": 3
         }
        ],
        "triggers": [
         {
          "kind": "pressure_value_trigger",
          "source": "Pressure Raw",
          "operator": ">=",
          "value": 0.2,
          "next_node_id": 10
         }
        ]
       }
      ]
     },
     {
      "name": "preinfusion",
      "nodes": [
       {
        "id": 10,
        "controllers": [
         {
          "kind": "temperature_controller",
          "algorithm": "Cylinder Temperature PID v1.0",
          "curve": {
           "id": 3,
           "interpolation_kind": "linear_interpolation",
           "points": [
            [
             0,
             25
            ]
           ],
           "time_reference_id": 2
          }
         },
         {
          "kind": "position_reference",
          "id": 1
         },
         {
          "kind": "flow_controller",
          "algorithm": "Flow PID v1.0",
          "curve": {
           "id": 4,
           "interpolation_kind": "catmull_interpolation",
           "points": [
            [
             0,
             0
            ],
            [
             20,
             0
            ]
           ],
           "time_reference_id": 3
          }
         }
        ],
        "triggers": [
         {
          "kind": "timer_trigger",
          "timer_reference_id": 3,
          "operator": ">=",
          "value": 20,
          "next_node_id": 12
         },
         {
          "kind": "pressure_value_trigger",
          "source": "Pressure Predictive",
          "operator": ">=",
          "value": 6,
          "next_node_id": 11
         },
         {
          "kind": "weight_value_trigger",
          "source": "Weight Raw",
          "weight_reference_id": 1,
          "operator": ">=",
          "value": 0.3,
          "next_node_id": 12
         },
         {
          "kind": "button_trigger",
          "source": "Encoder Button",
          "gesture": "Single Tap",
          "next_node_id": 12
         }
        ]
       }
      ]
     },
     {
      "name": "infusion",
      "nodes": [
       {
        "id": 13,
        "controllers": [
         {
          "kind": "temperature_controller",
          "algorithm": "Cylinder Temperature PID v1.0",
          "curve": {
           "id": 12,
           "interpolation_kind": "linear_interpolation",
           "points": [
            [
             0,
             25
            ]
           ],
           "time_reference_id": 4
          }
         },
         {
          "kind": "pressure_controller",
          "algorithm": "Pressure PID v1.0",
          "curve": {
           "id": 7,
           "interpolation_kind": "catmull_interpolation",
           "points": [
            [
             0,
             0
            ],
            [
             40,
             0
            ]
           ],
           "time_reference_id": 4
          }
         },
         {
          "kind": "position_reference",
          "id": 1
         }
        ],
        "triggers": [
         {
          "kind": "timer_trigger",
          "timer_reference_id": 4,
          "operator": ">=",
          "value": 40,
          "next_node_id": 31
         },
         {
          "kind": "weight_value_trigger",
          "source": "Weight Raw",
          "weight_reference_id": 1,
          "operator": ">=",
          "value": 33,
          "next_node_id": 31
         },
         {
          "kind": "flow_value_trigger",
          "source": "Flow Raw",
          "operator": ">=",
          "value": 8,
          "next_node_id": 20
         },
         {
          "kind": "button_trigger",
          "source": "Encoder Button",
          "gesture": "Single Tap",
          "next_node_id": 31
         }
        ]
       }
      ]
     },
     {
      "name": "infusion",
      "nodes": [
       {
        "id": 31,
        "controllers": [
         {
          "kind": "weight_reference",
          "id": 2
         },
         {
          "kind": "time_reference",
          "id": 17
         }
        ],
        "triggers": [
         {
          "kind": "exit",
          "next_node_id": 14
         }
        ]
       }
      ]
     }
    ],
    "source": "DASHBOARD"
   }